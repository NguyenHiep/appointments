(function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)})(function(e,t){var s=!1,o=e.fullCalendar;return o.views.resourceAgenda=o.views.agenda.extend({resources:null,resourceSource:null,unknownResourceTitle:"Not Assigned",widgetResourceHeaderClass:"resource",widgetUnknownResourceHeaderClass:"unknown-resource",resourceSorter:function(e,t){return"object"==typeof e&&null!==e&&"undefined"!=typeof e.id&&"object"==typeof t&&null!==t&&"undefined"!=typeof t.id?e.id<t.id?-1:e.id>t.id?1:0:"object"==typeof e&&null!==e&&"undefined"!=typeof e.id?1:"object"==typeof t&&null!==t&&"undefined"!=typeof t.id?-1:1},initialize:function(){s||console.log("ResourceAgenda#initialize"),this.resources=this.opt("resources"),o.views.agenda.prototype.initialize.apply(this,arguments),this.timeGrid.dayIDs=["sun","mon","tue","wed","thu","fri","sat"],this.timeGrid.updateCells=function(){var e,t=this.view,s=[];for(e=this.start.clone();e.isBefore(this.end);)s.push({day:e.clone()}),e.add(1,"day"),e=t.skipHiddenDays(e);this.isRTL&&s.reverse(),1===s.length&&"object"==typeof this.view.resources&&null!==this.view.resources&&this.view.resources instanceof Array&&(s[0].resource=null,this.view.resources.forEach(function(e){var t={day:s[0].day,resource:{id:e.id,name:e.name}};s.push(t)})),this.colData=s,this.colCnt=s.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},this.timeGrid.headCellHtml=function(e){var t=this.view,s=e.start;return"object"==typeof e.resource?null===e.resource?'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+this.dayIDs[s.day()]+" fc-"+t.widgetResourceHeaderClass+" fc-"+t.widgetUnknownResourceHeaderClass+'">'+o.htmlEscape(t.unknownResourceTitle)+" </th>":'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+this.dayIDs[s.day()]+" fc-"+t.widgetResourceHeaderClass+'">'+o.htmlEscape(e.resource.name)+" </th>":'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+this.dayIDs[s.day()]+'">'+o.htmlEscape(s.format(this.colHeadFormat))+" </th>"},this.timeGrid.rangeToSegs=function(e){var t,s,r,n,i=this.colCnt,a=[];e={start:e.start.clone().stripZone(),end:e.end.clone().stripZone(),resource:e.event.resource?e.event.resource:null};var c={},d=[];for(s=0;s<i;s++)"object"==typeof this.colData[s].resource&&(null===this.colData[s].resource?d.push(s):"number"!=typeof this.colData[s].resource.id&&"string"!=typeof this.colData[s].resource.id||(c[this.colData[s].resource.id]=s));for(s=0;s<i;s++)if(r=this.colData[s].day,n={start:r.clone().time(this.minTime),end:r.clone().time(this.maxTime)},t=o.intersectionToSeg(e,n))if("object"==typeof this.colData[s].resource)if(null!==this.colData[s].resource)e.resource===this.colData[s].resource.id&&(t.col=s,a.push(t));else if(null!==e.resource&&"undefined"!=typeof c[e.resource]);else for(var l=0;l<d.length;l++)t.col=d[l],a.push(t);else t.col=s,a.push(t);return a}},render:function(){s||console.log("ResourceAgenda#render"),o.views.agenda.prototype.render.apply(this,arguments)},setHeight:function(e,t){s||console.log("ResourceAgenda#setHeight"),o.views.agenda.prototype.setHeight.apply(this,arguments)},renderEvents:function(e){s||console.log("ResourceAgenda#renderEvents"),o.views.agenda.prototype.renderEvents.apply(this,arguments)},destroyEvents:function(){s||console.log("ResourceAgenda#destroyEvents"),o.views.agenda.prototype.destroyEvents.apply(this,arguments)},renderSelection:function(e){s||console.log("ResourceAgenda#renderSelection"),o.views.agenda.prototype.renderSelection.apply(this,arguments)},destroySelection:function(){s||console.log("ResourceAgenda#destroySelection"),o.views.agenda.prototype.destroy.apply(this,arguments)}}),o});